{"version":3,"sources":["data/15E455V429260-R037.jpg","component/psy_test/img/xinliceshi52.png","component/psy_test/img/qrcode2.jpg","component/psy_test/index.module.less","actionType.js","hook.js","view/Test.jsx","view/Home.jsx","view/Music.jsx","component/psy_test/ChoiceTest.jsx","component/psy_test/OptionRender.jsx","component/psy_test/ScrollList.jsx","component/psy_test/TestDetail.jsx","component/psy_test/Csv.jsx","component/psy_test/TestResult.jsx","view/PsyTest.jsx","saga/common.js","saga/psyTest.js","saga/rootSaga.js","reducer/common.js","reducer/psyTest.js","store.js","App.jsx","serviceWorker.js","index.js","config.js"],"names":["module","exports","HANDLE_COMMON","HANDLE_COMMON_TEST","HANDLE_PSY_TESR","GET_PSY_LIST","GET_TEST_LIST","PUSH_TEST_RESULT","require","useCallback","useEffect","useRef","useState","runSaga","stdChannel","identity","App","createModel","title","desc","cb","cb2","text1","text2","alert","text","onPress","console","log","zhu","connect","state","test","commonState","dispatch","handleTest","type","ACTION","props","urpparse","URLSearchParams","window","location","hash","replace","ming","get","ming2","className","styles","home","onClick","sd","style","width","height","src","picture","maxWidth","Item","withRouter","psyList","renderHeader","marginBottom","map","item","key","_id","multipleLine","history","push","match","url","pTitle","CDN","img","alt","titleItem","chineseName","secondTitle","slice","size","category","ANWSER","OptionRender","choiceKey","clickHandle","e","target","dataset","setState","choiceOption","this","data-key","active","React","Component","ScrollList","questionRow","rowData","rowID","sum","testList","childCategory","length","testDetail","testitemlist","bind","submit","submitResult","result","list","scrollTo","overTest","curent","data","document","body","clientHeight","ul","scrollHeight","concat","Object","assign","row","choose","categoryName","float","setStepInfo","setQuestion","info","preState","color","backgroundColor","setTimeout","stylesd","transform","scrollList","unfilled","percent","position","ref","index","submitButton","startTest","setStartTest","getTestList","mode","icon","onLeftClick","name","obj","thirdTitle","imgSrc","createMyResult","canvas","createElement","ctx","getContext","resultParams","BgImg","QrImg","bgImgPath","qrImgPath","preloadImage","bg","qr","convertImageToCanvas","drawMyImg","x","y","num","r","fillStyle","strokeStyle","font","textAlign","fillText","drawImage","i","arr","write_text_other_line_auto","description","toDataURL","path","Promise","resolve","reject","image","Image","onload","onerror","x1","y1","x2","y2","x3","y3","beginPath","moveTo","lineTo","closePath","conf","translate","direction","textX","Math","cos","PI","textY","sin","pointX","pointY","point","arc","lineWidth","stroke","rotate","six","X","Y","lineJoin","r0","r1","drawSanjiao","align","line_count","line_height","text_indent","first_row_line_count","row_count","substring","lineHeight","minHeight","marginTop","colorArr","W","backHome","saveImg","Mshare","popup","link","href","imgUrl","shareImg","types","infoMap","wx","fnDoShare","onTouchMove","clearTimeout","timeOutEvent","onTouchEnd","onTouchStart","shareCount","from","maps","score","textDetail","Csv","id","psyTestState","getPsyList","payload","handleResult","args","render","exact","urlQu","search","TestDetail","TestResult","to","asyncHandle","rootSaga","action","delay","put","sagas","takeLatest","all","saga","fork","asyncGetPsyList","asyncGetTestList","asyncPushTestResult","bigfive","oneBigFive","find","_","sortBy","o","getDownScore","l","handles","forEach","Number","psyObj","_obj","reObj","testLists","detailObj","persons","commonSaga","psyTestSaga","spawn","call","message","init","sagaMiddleware","createSagaMiddleware","onError","er","composeEnhancers","compose","createStore","combineReducers","applyMiddleware","run","store","component","Home","Music","PsyTest","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1c4b8ab2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/15E455V429260-R037.ad5014ab.jpg\";","module.exports = __webpack_public_path__ + \"static/media/xinliceshi52.62cc7d61.png\";","module.exports = __webpack_public_path__ + \"static/media/qrcode2.b9d4ebbd.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleItem\":\"src-component-psy_test-index-module__titleItem--1M7sF\",\"secondTitle\":\"src-component-psy_test-index-module__secondTitle--1oJhZ\",\"scrollList\":\"src-component-psy_test-index-module__scrollList--2H2q3\",\"testDetail\":\"src-component-psy_test-index-module__testDetail--2_1rH\",\"testitemlist\":\"src-component-psy_test-index-module__testitemlist--10wnm\",\"active\":\"src-component-psy_test-index-module__active---qIz0\",\"submitButton\":\"src-component-psy_test-index-module__submitButton--5umle\",\"english\":\"src-component-psy_test-index-module__english--3uYvQ\"};","export const HANDLE_COMMON = \"HANDLE_COMMON\"\nexport const HANDLE_COMMON_TEST = \"HANDLE_COMMON_TEST\"\n\nexport const HANDLE_PSY_TESR = \"HANDLE_PSY_TESR\"\nexport const GET_PSY_LIST = \"GET_PSY_LIST\"\nexport const GET_TEST_LIST = \"GET_TEST_LIST\"\nexport const PUSH_TEST_RESULT = \"PUSH_TEST_RESULT\"","const {\n  useCallback,\n  useEffect,\n  useRef,\n  useState\n} = require(\"react\");\nconst {\n  runSaga,\n  stdChannel,\n  identity\n} = require(\"little-saga\");\n\nexport function useSaga({\n  saga,\n  args = [],\n  reducer = identity,\n  initialState,\n  initialAction,\n  customEnv,\n  taskContext\n}) {\n  const chanRef = useRef(null);\n  if (initialAction) {\n    initialState = reducer(initialState, initialAction);\n  }\n  const stateRef = useRef(initialState);\n  const [state, _setState] = useState(initialState);\n\n  useEffect(() => {\n    const getState = () => stateRef.current;\n    const setState = nextState => {\n      stateRef.current = nextState;\n      _setState(nextState);\n    };\n\n    const enhancer = put => action => {\n      // hit reducer before put the action into the channel\n      setState(reducer(getState(), action));\n\n      return put(action);\n    };\n\n\n    const channel = stdChannel().enhancePut(enhancer);\n    chanRef.current = channel;\n\n    const rootTask = runSaga({\n        channel,\n        getState,\n        setState,\n        customEnv,\n        taskContext\n      },\n      saga,\n      ...args\n    );\n\n    return () => {\n      rootTask.cancel();\n      chanRef.current.close();\n      chanRef.current = null;\n    };\n  }, []);\n\n  const dispatch = action => chanRef.current.put(action);\n\n  return [state, useCallback(dispatch, [])];\n};","import * as React from \"react\";\nimport { runSaga, io } from \"little-saga\";\nimport { useSaga } from \"../hook\";\nimport _ from \"lodash\";\n\nfunction* fn(...arg) {\n  let ret = yield io.call(function* () {\n    yield 23;\n    return 23;\n  });\n  while (true) {\n    yield io.take(\"ACTION\");\n  }\n}\n\nfunction* fn2() {\n\n  yield io.fork(fn);\n  yield io.fork(fn);\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"ACTION\":\n      return { a: 1 };\n    default:\n      return {};\n  }\n}\n\nfunction App() {\n  const [state, dispatch] = useSaga({\n    saga: fn2,\n    args: [1, 2, 4],\n    reducer: reducer\n  });\n\n  let arr = [1, 1, 2, 0, \"\", [], {}, false, 0]\n\n  let a = _.transform({ a: 1, b: 2, c: 3 }, (ret, values, key) => {\n    values > 1 && ret.push(key)\n  }, [])\n\n  console.log(a)\n\n  return (\n    <div\n      className=\"App\"\n      onClick={() => {\n        dispatch({ type: \"ACTION\" });\n      }}\n    >\n      <h1>Hello CodeSandbox</h1>\n      <h2>Start editing to see some magic happen!</h2>\n    </div>\n  );\n}\n\n\nexport default App\n","import React, { useEffect } from \"react\";\nimport styles from \"./index.module.less\";\nimport { connect } from \"react-redux\";\nimport * as ACTION from \"actionType\"\nimport { Link } from \"react-router-dom\"\nimport Test from \"./Test.jsx\";\nimport { Modal, Toast } from \"antd-mobile\"\nimport picture from \"../data/15E455V429260-R037.jpg\";\n\nfunction createModel(title, desc, cb, cb2, text1, text2) {\n  Modal.alert(title, desc, [\n    { text: text1 || '不是', onPress: cb || (() => console.log('cancel')) },\n    {\n      text: text2 || '是',\n      onPress: cb2 || (() => { }),\n    },\n  ])\n}\n\n\nfunction sd() {\n  createModel(\n    \"你知道错了吗\",\n    \"\",\n    () => {\n      sd()\n    },\n    () => {\n      zhu()\n    },\n    \"不知道\",\n    \"知道\"\n  )\n}\n\nfunction zhu() {\n  createModel(\n    \"你是发财运的🐷，还是走霉运的🐷\",\n    \"\",\n    () => {\n      Modal.alert('爸爸也是这么想的😆')\n    },\n    () => {\n      Modal.alert('爸爸也是这么想的😝')\n    },\n    \"发财运\",\n    \"走霉运\"\n  )\n}\n\nfunction Home(props) {\n  let urpparse = new URLSearchParams(window.location.hash.replace(/.*\\?/, \"?\"))\n\n  const ming = urpparse.get(\"ming\")\n  const ming2 = urpparse.get(\"ming2\")\n\n  const sdf = () => {\n    props.handleTest()\n\n    createModel(\n      '你是🐷吗',\n      '你确定你是🐷???',\n      () => createModel(\n        \"那你是人吗\",\n        \"\",\n        () => {\n          createModel(\n            \"你喜欢男人还是女人\",\n            \"\",\n            () => {\n              Modal.alert('不，你喜欢进退两男')\n            },\n            () => {\n              Modal.alert('不，你喜欢' + ming2)\n            },\n            \"👱\",\n            \"👩\"\n          )\n        },\n        () => {\n          sd()\n        },\n        \"是个人\",\n        ming + \"🐷\"\n      ),\n      () => zhu()\n    )\n  }\n\n\n\n  return (\n    <>\n      <div className={styles.home}>\n        <ul>\n          <li onClick={sdf} style={{ width: 200, height: 100 }}>\n\n            <img src={picture} style={{ width: \"100vw\", maxWidth: 600 }} />\n            {/* <Test /> */}\n          </li>\n        </ul>\n      </div>\n    </>\n  );\n}\n\nexport default connect(state => {\n  return { test: state.commonState.test }\n}, dispatch => {\n  return {\n    handleTest() {\n      dispatch({ type: ACTION.HANDLE_COMMON_TEST })\n    }\n  }\n})(Home)\n\n//<Link to={props.match.url.replace(/\\/home.*/, \"\") + \"/psy_test\"}></Link>","import React, { useEffect } from \"react\";\nimport styles from \"./index.module.less\";\nimport { connect } from \"react-redux\";\nimport * as ACTION from \"actionType\"\n\nfunction Home(props) {\n\n  useEffect(() => {\n    props.handleTest()\n  }, [])\n\n  return (\n    <>\n      <div className={styles.home}>\n        {props.test}\n      </div>\n    </>\n  );\n}\n\nexport default connect(state => {\n  return { test: state.commonState.test }\n}, dispatch => {\n  return {\n    handleTest() {\n      dispatch({ type: ACTION.HANDLE_COMMON_TEST })\n    }\n  }\n})(Home)","import React from 'react';\nimport styles from './index.module.less';\nimport { List } from 'antd-mobile';\nimport \"./index.less\";\nimport { CDN } from \"../../config\";\nimport { withRouter } from \"react-router-dom\";\n\nconst Item = List.Item;\n\nconst ChoiceTest = props => {\n  const { psyList } = props\n  return (\n    <div className='choice-test'>\n      <div>\n        <List renderHeader={() => '精彩测评'} className=\"my-list\" style={{ marginBottom: 20 }}>\n          {psyList.map((item) => {\n            return (\n              <Item\n                key={item._id}\n                multipleLine\n                onClick={() => {\n                  props.history.push(`${props.match.url.replace(/\\/list.*$/, \"\")}/detail?_id=${item._id}&category=${item.pTitle}`)\n                }}>\n                <div className='item-left'>\n                  <img src={CDN + item.img} alt=\"test's images\" />\n                </div>\n                <div className='item-right'>\n                  <span className={styles.titleItem}>\n                    {item.chineseName}\n                  </span>\n                  <div className={styles.secondTitle}>\n                    <span>{item.secondTitle && item.secondTitle.slice(0, 27) + '...'}</span>\n                  </div>\n                  <div className='test-button' size='small' type='primary'>免费测试</div>\n                  <span className='test-category'>{item.category}</span>\n                </div>\n              </Item>\n            )\n          })\n          }\n        </List>\n        <div className=\"home-bottom-line\">\n          <div></div>\n          <span>我也是有底线的</span>\n          <div></div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(ChoiceTest)\n\n","import React from \"react\";\nimport styles from \"./index.module.less\";\nconst ANWSER = ['', 'Strongly disagree', 'Disagree', 'Uncertainty', 'Agree', 'Totally agree']\nclass OptionRender extends React.Component {\n  state = {\n    choiceKey: -1\n  }\n  clickHandle = (e) => {\n    if (this.state.choiceKey != -1 || !e.target.dataset.key) return\n    this.setState({\n      choiceKey: e.target.dataset.key\n    })\n    this.props.choiceOption(e.target.dataset.key)\n  }\n  render() {\n    return (\n      <ul onClick={this.clickHandle}>\n        <li data-key={1} key={1} className={this.state.choiceKey == 1 ? styles.active : ''}>{ANWSER[1]}</li>\n        <li data-key={2} key={2} className={this.state.choiceKey == 2 ? styles.active : ''}>{ANWSER[2]}</li>\n        <li data-key={3} key={3} className={this.state.choiceKey == 3 ? styles.active : ''}>{ANWSER[3]}</li>\n        <li data-key={4} key={4} className={this.state.choiceKey == 4 ? styles.active : ''}>{ANWSER[4]}</li>\n        <li data-key={5} key={5} className={this.state.choiceKey == 5 ? styles.active : ''}>{ANWSER[5]}</li>\n      </ul>\n    )\n  }\n}\n\nexport default OptionRender","import React, { Component } from 'react';\nimport OptionRender from \"./OptionRender\"\nimport { Progress } from 'antd-mobile';\nimport styles from './index.module.less';\nimport { CDN } from \"config\";\nimport './index.less';\nconst ANWSER = ['', 'Strongly disagree', 'Disagree', 'Uncertainty', 'Agree', 'Totally agree']\n\nclass ScrollList extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      list: [],\n      scrollTo: 0,\n      overTest: false,\n      curent: 1,\n    };\n    this.result = []\n  }\n  componentDidMount() {\n    let data = this.props.testList.childCategory.slice(0, 1)[0]\n    this.setState({\n      scrollTo: document.body.clientHeight - this.ul.scrollHeight - 340,\n      list: this.state.list.concat(Object.assign({}, data, {\n        row: this.questionRow.bind(this, data, 1)\n      }))\n    })\n  }\n\n  questionRow = (rowData, rowID) => {\n    let sum = this.props.testList.childCategory.length\n\n    return (\n      <li key={rowID} className={styles.testDetail}>\n        <img src={CDN + this.props.testList.img} alt=\"test's images\" />\n        <div className={styles.testitemlist}>\n          <div>\n            <p>{`${rowID}/${sum}. `}{rowData.text}</p>\n            <div className='dot-left'></div>\n          </div>\n          <OptionRender choiceOption={this.choiceOption.bind(this, rowData, rowID)} />\n        </div>\n      </li>\n    )\n  };\n\n  choiceOption(rowData, rowID, key) {\n    this.result.push({\n      choose: key,\n      key: rowData.key,\n      categoryName: rowData.categoryName\n    })\n    this.setState({\n      list: this.state.list.concat({\n        row: () =>\n          <li style={{ float: 'right' }} key={`${rowID}_info`} className={`right-li ${styles.testDetail}`}>\n            <div className={styles.testitemlist}>\n              <div>\n                <p>{ANWSER[key]}</p>\n                <div className='dot-right'></div>\n              </div>\n            </div>\n          </li>\n      })\n    }, () => {\n      //test结束状态处理\n      if (this.result.length === this.props.testList.childCategory.length) {\n        this.setState({\n          overTest: true,\n          scrollTo: document.body.clientHeight - this.ul.scrollHeight - 80\n        })\n        return\n      }\n      if (this.state.curent === 12) {\n        this.setStepInfo(rowID, 'The survey is almost done. Go on!')\n      } else {\n        this.setQuestion(rowID)\n      }\n    })\n  }\n\n  setStepInfo(rowID, info) {\n    this.setState((preState) => {\n      return Object.assign({}, preState, {\n        list: preState.list.concat({\n          row: () => <li key={`${preState.curent}_info`} className={styles.testDetail}>\n            <img src={CDN + this.props.testList.img} alt=\"test's images\" />\n            <div className={styles.testitemlist}>\n              <div style={{ color: 'white', backgroundColor: 'rgb(236, 120, 126)' }}>\n                <p>{info}</p>\n                <div style={{ backgroundColor: 'rgb(236, 120, 126)' }} className='dot-left'></div>\n              </div>\n            </div>\n          </li>\n        }),\n      })\n    }, () => {\n      this.setState({\n        scrollTo: document.body.clientHeight - this.ul.scrollHeight - 40\n      })\n    })\n    setTimeout(() => {\n      this.setQuestion(20)\n    }, 2000)\n  }\n\n  setQuestion() {\n    this.setState((preState) => {\n      let data = this.props.testList.childCategory.slice(preState.curent, preState.curent + 1)[0]\n      return Object.assign({}, preState, {\n        list: preState.list.concat(Object.assign(data, {\n          row: this.questionRow.bind(this, data, preState.curent + 1)\n        })),\n        curent: preState.curent + 1\n      })\n    }, () => {\n      this.setState({\n        scrollTo: document.body.clientHeight - this.ul.scrollHeight - 40\n      })\n    })\n  }\n  submit = () => {\n    this.props.submitResult({\n      _id: this.props._id,\n      testList: this.result\n    })\n  }\n  render() {\n    const stylesd = {\n      transform: `translateY(${this.state.scrollTo}px)`\n    }\n    return (\n      <div className={`${styles.scrollList} scroll-test`}>\n        <Progress\n          unfilled={false}\n          className='scroll-progress'\n          percent={this.state.curent / (this.props.testList.childCategory && this.props.testList.childCategory.length) * 100}\n          position=\"fixed\" />\n        <ul ref={(ref) => this.ul = ref} style={stylesd}>\n          {this.state.list.map((item, index) => {\n            return item.row && <span key={index}>{item.row(item)}</span>\n          })}\n        </ul>\n        {this.state.overTest ? <div className={styles.submitButton}>\n          <div onClick={this.submit}>提交</div>\n        </div> : ''}\n      </div>\n    )\n  }\n}\n\nexport default ScrollList","import React, { useState, useEffect } from 'react';\nimport ScrollList from './ScrollList';\nimport { NavBar, Icon } from 'antd-mobile';\nimport './index.less';\nimport { CDN } from \"config\";\nimport { withRouter } from \"react-router-dom\";\n\nconst TextDetail = props => {\n  const [startTest, setStartTest] = useState(false)\n\n  useEffect(() => {\n    props.getTestList(props._id, props.category)\n  }, []);\n\n  const submitResult = (obj) => {\n    props.submitResult(obj.testList, props._id)\n  }\n  const back = () => {\n    props.history.push(`${props.match.url.replace(/\\/psy_test.*$/, \"/psy_test\")}`)\n  }\n\n  const pushStartTest = () => {\n    setStartTest(true)\n  }\n\n  const { testList } = props\n\n  return (\n    <div className='text-detail'>\n      <NavBar\n        mode=\"light\"\n        icon={<Icon type=\"left\" />}\n        onLeftClick={back}>\n        {testList.name}\n      </NavBar>\n      {!startTest ?\n        <div className='test-start'>\n          <img src={CDN + props.testList.img} alt=\"test's images\" />\n          <div key='title' className='title'>\n            <p className='title-1'>{props.testList.chineseName}</p>\n            <p className='title-2'>{props.testList.name}</p>\n          </div>\n          <div className='test-start-btn' size='small' type='primary' onClick={pushStartTest}>开始测试</div>\n          <div className='second' key='second'>\n            <div>{props.testList.secondTitle}</div>\n            <div className='third-title'>{props.testList.thirdTitle}</div>\n          </div>\n        </div> :\n        <ScrollList submitResult={submitResult} testList={testList} />\n      }\n    </div >\n  )\n}\n\nexport default withRouter(TextDetail) \n","import React, {Component} from 'react';\nimport BgImg from './img/xinliceshi52.png';\nimport QrImg from './img/qrcode2.jpg';\nimport {Icon} from 'antd-mobile';\nimport './index.less';\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            imgSrc: ''\n        };\n        this.createMyResult = this.createMyResult.bind(this);\n    }\n\n    componentDidMount() {\n        let canvas = document.createElement('canvas');\n        let ctx = canvas.getContext('2d');\n       \n        this.createMyResult(canvas, ctx, this.props.resultParams, BgImg, QrImg)\n    }\n\n    async createMyResult(canvas, ctx, obj, bgImgPath, qrImgPath) {\n        let bg = await this.preloadImage(bgImgPath);\n        let qr = await this.preloadImage(qrImgPath);\n\n        this.convertImageToCanvas(canvas, ctx, bg);\n        this.drawMyImg(ctx, {\n            x: 375,\n            y: 800,\n            num: 6,\n            r: 200,\n            fillStyle: '#000',\n            strokeStyle: '#000'\n        }, obj);\n\n        ctx.font = \" bold 48px  -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif\";\n        ctx.textAlign = 'left';\n        ctx.fillStyle = '#c9174b';\n        ctx.fillText(obj.title, -60, -470);\n        ctx.fillStyle = '#000';\n        ctx.fillText('测试', 200, -470);\n\n        ctx.drawImage(qr, -70, 1225, 186, 186);\n        ctx.fillStyle = '#000';\n        ctx.font = 'bold 44px -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif';\n        for (let i = 0; i < obj.arr.length; i++) {\n            ctx.fillText(obj.arr[i].title, -270, 570 + i * 100);\n        }\n        ctx.font = '500 22px Open Sans,Arial,Microsoft Yahei,微软雅黑';\n        for (let i = 0; i < obj.arr.length; i++) {\n            this.write_text_other_line_auto(ctx, \"\", \"left\", \"#000\", obj.arr[i].description, 10, 555 + i * 101, 13, 24, 0);\n        }\n        let imgSrc = canvas.toDataURL(\"image/png\");\n        this.setState({\n            imgSrc: imgSrc\n        })\n    }\n\n    preloadImage(path) {\n        return new Promise(function (resolve, reject) {\n            const image = new Image();\n            image.onload = ()=>resolve(image);\n            image.onerror = reject;\n            image.src = path;\n        });\n    };\n\n    drawSanjiao(ctx, x1, y1, x2, y2, x3, y3, color, type) {\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.lineTo(x3, y3);\n        ctx[type + 'Style'] = color;\n        ctx.closePath();\n        ctx[type]();\n    };\n\n    drawMyImg(ctx, conf, obj) {\n        let x = conf && conf.x || 0;  //中心点x坐标\n        let y = conf && conf.y || 0;  //中心点y坐标\n        let num = conf && conf.num || 3;   //图形边的个数\n        var r = conf && conf.r || 100;   //图形的半径\n        var width = conf && conf.width || 5;\n        var fillStyle = conf && conf.fillStyle;\n        var strokeStyle = conf && conf.strokeStyle;\n        ctx.translate(x, y);\n        ctx.font = \"500 24px Open Sans,Arial,Microsoft Yahei,微软雅黑\";    //设置字体和字体大小\n        ctx.direction = 'ltr';\n        ctx.textAlign = 'center';\n        ctx.fillStyle = fillStyle;\n        for (let i = 0; i < num; i++) {\n            if(obj.arr[i]){\n                var textX = (r + 55) * Math.cos((2 * Math.PI * i / num) + Math.PI / 4);  // 字对的上位置\n                var textY = (r + 55) * Math.sin((2 * Math.PI * i / num) + Math.PI / 4);\n                var pointX = textX;\n                var pointY = textY + 25;\n                ctx.fillText(obj.arr[i].title, textX, textY);\n                ctx.fillText(obj.arr[i].point, pointX, pointY);\n            }\n        }\n        // 画圆形\n        ctx.beginPath();\n        ctx.arc(0, 0, r, 0, 2 * Math.PI, true);\n        ctx.lineWidth = width;\n        ctx.strokeStyle = strokeStyle;\n        ctx.stroke();\n\n        ctx.rotate(Math.PI / 4);\n        ctx.beginPath();\n        ctx.moveTo(r, 0);\n        let six = [];\n        for (let i = 0; i < num; i++) {\n            var X = r * Math.cos(2 * Math.PI * i / num);\n            var Y = r * Math.sin(2 * Math.PI * i / num);\n            six.push([X, Y]);\n            ctx.lineTo(X, Y);\n        }\n        ctx.closePath();\n        ctx.strokeStyle = strokeStyle;\n        ctx.lineWidth = width;\n        ctx.lineJoin = 'round';\n        ctx.stroke();\n        // 画六条射线\n        for (let i = 0; i < six.length; i++) {\n            ctx.beginPath();\n            ctx.moveTo(0, 0);\n            ctx.lineTo(six[i][0], six[i][1]);\n            ctx.closePath();\n            ctx.stroke();\n        }\n\n        // 画不规则多边形&不同颜色\n        // 求出不同的半径 算出 坐标， 然后连线\n        ctx.beginPath();\n        ctx.moveTo(r, 0);\n        let r0 = (obj.arr[0]&&obj.arr[0].point||0) / 100 * r;\n        six.length = 0;\n        ctx.moveTo(r0, 0);\n        for (let i = 0; i < num; i++) {\n            if(obj.arr[i]){\n                let r1 = obj.arr[i].point / 100 * r;\n    \n                let X = r1 * Math.cos(2 * Math.PI * i / num);\n                let Y = r1 * Math.sin(2 * Math.PI * i / num);\n                six.push([X, Y]);\n                ctx.lineTo(X, Y);\n            }\n        }\n        ctx.closePath();\n        ctx.strokeStyle = strokeStyle;\n        ctx.lineWidth = width;\n        ctx.lineJoin = 'round';\n        ctx.stroke();\n\n        for (let i = 0; i < six.length; i++) {\n            if (i === six.length - 1) {\n                this.drawSanjiao(ctx, 0, 0, six[i][0], six[i][1], six[0][0], six[0][1], obj.arr[i].color, 'fill')\n            } else {\n                this.drawSanjiao(ctx, 0, 0, six[i][0], six[i][1], six[i + 1][0], six[i + 1][1], obj.arr[i].color, 'fill')\n            }\n        }\n        for (let i = 0; i < six.length; i++) {\n            ctx.beginPath();\n            ctx.moveTo(0, 0);\n            ctx.lineTo(six[i][0], six[i][1]);\n            ctx.closePath();\n            ctx.stroke();\n        }\n        ctx.rotate(-Math.PI / 4);\n    }\n\n    convertImageToCanvas(canvas, ctx, image) {\n        canvas.width = image.width;\n        canvas.height = image.height;\n        console.log(image, 226);\n        console.log(image.width, image.height);\n        console.log(`canvas宽：${canvas.width}, canvas高： ${canvas.height}`);\n        canvas.getContext(\"2d\").drawImage(image, 0, 0);\n        ctx.drawImage(image, 0, 0);\n    }\n\n    write_text_other_line_auto(ctx, font, align, color, text, x, y, line_count, line_height, text_indent) {\n        ctx.font = font;\n        ctx.textAlign = align;\n        ctx.fillStyle = color;\n        let row_count = text.length / line_count;\n        let first_row_line_count;\n        let x1, y1;\n        for (let i = 0; i <= row_count; i++) {\n            if (i == 0) {\n                ctx.fillText(text.substring(0, (line_count * (i + 1) - text_indent)), x + (text_indent * 26), y + (line_height * i));\n                first_row_line_count = (line_count * (i + 1) - text_indent);\n            }\n            else {\n                ctx.fillText(text.substring(line_count * (i - 1) + first_row_line_count, first_row_line_count + line_count * i), x, y + (line_height * i));\n                y1 = y + (line_height * i);\n            }\n        }\n        return y1;\n    }\n\n    render() {\n        return (\n            <div className=\"App\" style={{width:'100%',textAlign:\"center\",lineHeight:'100%'}}>\n               {this.state.imgSrc?<img style={{width:'100%',minHeight:'100vh'}} src={this.state.imgSrc} alt=\"\"/>:<Icon className='icon-loading' size={'lg'} color={'#e61550'} style={{marginTop:'50%'}} type='loading'/>}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport { Toast } from 'antd-mobile';\nimport Mshare from 'm-share';\nimport './index.less';\nimport { CDN } from 'config';\nimport Csv from './Csv';\nimport { withRouter } from \"react-router-dom\";\nconst colorArr = ['#de6338', '#61c9b1', '#51a5c8', '#4431c4', '#60cb49', '#e4b348']\n\nclass W extends Component {\n  constructor(props) {\n    super(props)\n    this.timeOutEvent = null\n  }\n  componentDidMount() {\n    //回退\n    if (this.props.result.chineseName) {\n      document.title = `${this.props.result.pTitle}测试`\n    } else {\n      this.props.history.push(this.props.match.url.replace(/\\/psy_test.*$/, \"/psy_test\"))\n      return\n    }\n    Toast.info('双击图片保存！！', 2);\n  }\n  backHome = () => {\n    this.props.history.push(this.props.match.url.replace(/\\/psy_test.*$/, \"/psy_test\"))\n  }\n  saveImg = () => {\n    Mshare.popup({\n      title: `最全面人格心理测试 — ${this.props.result.chineseName}，快来参与！`,\n      desc: `最全面人格心理测试 — ${this.props.result.chineseName}，快来参与！`,\n      link: window.location.href,\n      imgUrl: CDN + this.props.result.shareImg,\n      types: ['wx', 'wxline', 'qq', 'qzone', 'sina'],\n      infoMap: {\n        wx: {\n          title: `最全面人格心理测试 — ${this.props.result.chineseName}，快来参与！`,\n          desc: `最全面人格心理测试 — ${this.props.result.chineseName}，快来参与！`,\n          link: window.location.href,\n          imgUrl: CDN + this.props.result.shareImg\n        }\n      },\n      fnDoShare: (type) => {\n        console.log('分享成功');\n      }\n    });\n  }\n\n  onTouchMove = () => {\n    clearTimeout(this.timeOutEvent);\n    this.timeOutEvent = 0;\n  }\n  onTouchEnd = () => {\n    clearTimeout(this.timeOutEvent);\n    if (this.timeOutEvent != 0) {\n      console.log('你点击了');\n    }\n    return false;\n  }\n  onTouchStart = () => {\n    this.timeOutEvent = setTimeout(() => {\n      this.timeOutEvent = 0;\n      this.props.shareCount({ from: '保存图片', type: '分享' })\n    }, 400)\n  };\n  render() {\n    const { result } = this.props\n    const maps = result.result || []\n    const resultParams = {}\n    resultParams.arr = maps.map((item, index) => {\n      return {\n        title: item.chineseName,\n        point: item.score,\n        description: item.textDetail,\n        color: colorArr[index]\n      }\n    })\n    resultParams.title = result.chineseName\n    return (\n      <div className='test-result-wap'>\n        <div onTouchMove={this.onTouchMove} onTouchStart={this.onTouchStart} onTouchEnd={this.onTouchEnd}>\n          <Csv resultParams={resultParams} />\n        </div>\n        <div className='handle-bar'>\n          <div type='primary' id=\"share\" onClick={this.saveImg}>分享</div>\n          <div type='primary' onClick={this.backHome}>返回首页</div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(W)\n\n","import React, { useEffect, useCallback } from \"react\";\nimport styles from \"./index.module.less\";\nimport { connect } from \"react-redux\";\nimport * as ACTION from \"actionType\"\nimport { Switch, Redirect, Route } from 'react-router-dom';\nimport ChoiceTest from \"../component/psy_test/ChoiceTest\"\nimport TestDetail from \"../component/psy_test/TestDetail\"\nimport TestResult from \"../component/psy_test/TestResult\"\n\nfunction Home(props) {\n\n  const { match, getPsyList, psyList, result, testList, getTestList, submitResult, history } = props\n\n  useEffect(() => {\n    getPsyList()\n  }, [])\n\n  const handleResult = useCallback((...args) => {\n    submitResult(...args, () => {\n      history.push(`${match.url}/result`);\n    })\n  }, [history, match.url, submitResult])\n\n  return (\n    <div className={styles.home}>\n      <Switch>\n        <Route path={match.url + '/list'} render={() => {\n          return <ChoiceTest psyList={psyList} match={match} />\n        }} />\n        <Route exact path={match.url + '/detail'} render={({ location }) => {\n          const urlQu = new URLSearchParams(location.search)\n          return (\n            <TestDetail\n              _id={urlQu.get(\"_id\")}\n              category={urlQu.get(\"category\")}\n              getTestList={getTestList}\n              testList={testList}\n              submitResult={handleResult}\n            />\n          )\n        }} />\n        <Route exact path={match.url + '/result'} render={(obj) => {\n          return (<TestResult result={result} />)\n        }} />\n        <Redirect to={`${match.url}/list`} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default connect(state => {\n  return {\n    psyList: state.psyTestState.psyList,\n    testList: state.psyTestState.testList,\n    result: state.psyTestState.result\n  }\n}, dispatch => {\n  return {\n    getPsyList() {\n      dispatch({ type: ACTION.GET_PSY_LIST })\n    },\n    getTestList(_id) {\n      dispatch({ type: ACTION.GET_TEST_LIST, payload: { _id } })\n    },\n    submitResult(testList, _id, cb) {\n      dispatch({ type: ACTION.PUSH_TEST_RESULT, payload: { testList, _id, cb } })\n    }\n  }\n})(Home)","import {\n  takeLatest,\n  fork,\n  all,\n  put,\n  delay\n} from 'redux-saga/effects';\nimport * as ACTION from \"actionType\"\n\nfunction* asyncHandle(action) {\n  yield delay(5000)\n  yield put({\n    type: ACTION.HANDLE_COMMON,\n    payload: {\n      test: \"HELLO WORLD\"\n    }\n  })\n}\n\nexport default function* rootSaga() {\n  let sagas = [function* () {\n    yield takeLatest(ACTION.HANDLE_COMMON_TEST, asyncHandle)\n  }]\n  yield all(sagas.map(saga => fork(saga)));\n}","import {\n  takeLatest,\n  fork,\n  all,\n  put,\n  delay\n} from 'redux-saga/effects';\nimport * as ACTION from \"actionType\"\nimport bigfive from \"../data/bigfive.json\"\nimport testLists from \"../data/test.json\"\nimport _ from \"lodash\"\n\nfunction* asyncGetPsyList(action) {\n  yield put({\n    type: ACTION.HANDLE_PSY_TESR,\n    payload: {\n      psyList: bigfive\n    }\n  })\n}\n\nfunction* asyncGetTestList(action) {\n  const {\n    _id\n  } = action.payload\n  let oneBigFive = bigfive.find(i => i._id === _id)\n  let childCategory = []\n  for (let i in oneBigFive.childCategory) {\n    childCategory = childCategory.concat(oneBigFive.childCategory[i].testList)\n  }\n\n  yield put({\n    type: ACTION.HANDLE_PSY_TESR,\n    payload: {\n      testList: {\n        ...oneBigFive,\n        childCategory: _.sortBy(childCategory, o => o.num)\n      }\n    }\n  })\n}\n\nfunction getDownScore(l) {\n  let s = [5, 4, 3, 2, 1]\n  return s[l - 1]\n}\n\nfunction handles(arr) {\n  let obj = {}\n  arr.forEach(item => {\n    if (!obj[item.categoryName]) {\n      if (item.key == 1) {\n        obj[item.categoryName] = Number(item.choose)\n      } else {\n        obj[item.categoryName] = getDownScore(Number(item.choose))\n      }\n    } else {\n      if (item.key == 1) {\n        obj[item.categoryName] += Number(item.choose)\n      } else {\n        obj[item.categoryName] += getDownScore(Number(item.choose))\n      }\n    }\n  })\n  return obj\n}\n\nfunction* asyncPushTestResult(action) {\n  const {\n    _id,\n    testList,\n    cb\n  } = action.payload\n\n  let psyObj = bigfive.find(item => item._id === _id)\n\n  const _obj = handles(testList)\n  const reObj = {}\n  const maps = []\n  for (let i in _obj) {\n    reObj[i] = testLists.find(item => {\n      return item.category === i && item.sum === _obj[i]\n    })\n    let detailObj = psyObj.childCategory.find(item => item.name === i)\n    maps.push({\n      textDetail: reObj[i].textDetail,\n      chineseName: detailObj ? detailObj.chineseName : '',\n      category: reObj[i].category,\n      score: reObj[i].score,\n    })\n  }\n\n  const result = {\n    name: psyObj.name,\n    chineseName: psyObj.chineseName,\n    secondTitle: psyObj.secondTitle,\n    persons: psyObj.persons,\n    _id: psyObj._id,\n    img: psyObj.img,\n    result: maps,\n    pTitle: psyObj.pTitle,\n  }\n\n  yield put({\n    type: ACTION.HANDLE_PSY_TESR,\n    payload: {\n      result\n    }\n  })\n  cb && cb()\n}\n\nexport default function* rootSaga() {\n  let sagas = [function* () {\n    yield takeLatest(ACTION.GET_PSY_LIST, asyncGetPsyList);\n    yield takeLatest(ACTION.GET_TEST_LIST, asyncGetTestList)\n    yield takeLatest(ACTION.PUSH_TEST_RESULT, asyncPushTestResult)\n  }]\n  yield all(sagas.map(saga => fork(saga)));\n}","import {\n  spawn,\n  all,\n  call\n} from 'redux-saga/effects';\nimport commonSaga from \"./common.js\";\nimport psyTestSaga from \"./psyTest\";\n\n\nexport default function* rootSaga() {\n  const sagas = [commonSaga, psyTestSaga];\n  yield all(sagas.map(saga =>\n    spawn(function* () {\n      while (true) {\n        try {\n          yield call(saga);\n          break;\n        } catch (e) {\n\n          if (typeof e === \"string\") {\n\n          } else if (e && e.message) {\n\n          }\n          console.log(e);\n        }\n      }\n    })\n  ));\n}","import {\n  HANDLE_COMMON\n} from 'actionType'\n\nconst init = {\n  test: \"hello world\"\n}\n\nexport default (state = init, action) => {\n  switch (action.type) {\n    case HANDLE_COMMON:\n      return {\n        ...state, ...action.payload\n      };\n    default:\n      return state\n  }\n}","import {\n  HANDLE_PSY_TESR\n} from 'actionType'\n\nconst init = {\n  psyList: [],\n  testList: {},\n  result: {}\n}\n\nexport default (state = init, action) => {\n  switch (action.type) {\n    case HANDLE_PSY_TESR:\n      return {\n        ...state, ...action.payload\n      };\n    default:\n      return state\n  }\n}","import {\n  createStore,\n  combineReducers,\n  applyMiddleware,\n  compose\n} from \"redux\";\nimport rootSaga from \"saga/rootSaga\"\nimport createSagaMiddleware from 'redux-saga';\nimport commonState from \"reducer/common\"\nimport psyTestState from \"reducer/psyTest\"\n\nconst sagaMiddleware = createSagaMiddleware({\n  onError(er) {\n    console.log(er)\n  }\n})\n\nconst composeEnhancers = process.env.NODE_ENV === \"development\" ? (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose) : compose;\n\n\nexport default createStore(combineReducers({\n  commonState,\n  psyTestState\n}), composeEnhancers(applyMiddleware(sagaMiddleware)))\n\nsagaMiddleware.run(rootSaga)","import React from 'react';\nimport Home from './view/Home';\nimport Music from \"./view/Music\";\nimport PsyTest from \"./view/PsyTest\";\nimport { HashRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Provider } from \"react-redux\"\nimport store from \"store\";\n\nfunction App() {\n  return (\n    <>\n      <Provider store={store}>\n        <HashRouter>\n          <Switch>\n            <Route path=\"/home\" component={Home} />\n            <Route path=\"/music\" component={Music} />\n            <Route path=\"/psy_test\" component={PsyTest} />\n            <Redirect to={\"/home\"} />\n          </Switch>\n        </HashRouter>\n      </Provider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = {\n  CDN: \"http://cdn2.ibt.tel/\"\n}"],"sourceRoot":""}